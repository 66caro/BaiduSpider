{"remainingRequest":"/Users/sam/Desktop/Python/BaiduSpider/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sam/Desktop/Python/BaiduSpider/web/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sam/Desktop/Python/BaiduSpider/web/src/App.vue","mtime":1595475546319},{"path":"/Users/sam/Desktop/Python/BaiduSpider/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sam/Desktop/Python/BaiduSpider/web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/sam/Desktop/Python/BaiduSpider/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sam/Desktop/Python/BaiduSpider/web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTdGF0dXNTZXJ2aWNlIGZyb20gJ0Avc2VydmljZXMvU3RhdHVzU2VydmljZScKaW1wb3J0IEZvb3RlciBmcm9tICdAL2NvbXBvbmVudHMvRm9vdGVyJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdBcHAnLAogIGRhdGE6ICgpID0+IHsKICAgIHJldHVybiB7CiAgICAgIG9mZmxpbmU6IGZhbHNlLAogICAgICBsb2FkaW5nOiB0cnVlCiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBGb290ZXIKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFN0YXR1czogYXN5bmMgZnVuY3Rpb24gKCkgewogICAgICBsZXQgb25saW5lCiAgICAgIGF3YWl0IFN0YXR1c1NlcnZpY2UuZ2V0U3RhdHVzKCkudGhlbigoZGF0YSkgPT4gewogICAgICAgIG9ubGluZSA9IHRydWUKICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgIG9ubGluZSA9IGZhbHNlCiAgICAgIH0pCiAgICAgIHRoaXMub2ZmbGluZSA9ICFvbmxpbmUKICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuZ2V0U3RhdHVzKCkKICAgIHRoaXMuJHZ1ZXRpZnkudGhlbWUuZGFyayA9IHdpbmRvdy5tYXRjaE1lZGlhKCcocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspJykubWF0Y2hlcwogICAgaWYgKHdpbmRvdy5tYXRjaE1lZGlhKCcocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspJykuYWRkRXZlbnRMaXN0ZW5lcikgewogICAgICB3aW5kb3cubWF0Y2hNZWRpYSgnKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKScpCiAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGV2ZW50ID0+IHsKICAgICAgICAgIHRoaXMuJHZ1ZXRpZnkudGhlbWUuZGFyayA9IGV2ZW50Lm1hdGNoZXMKICAgICAgICB9KQogICAgfQogIH0KfQo="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <v-app>\n    <router-view></router-view>\n    <v-overlay absolute :value=\"loading||offline\" opacity=\"0.8\">\n      <v-progress-circular indeterminate size=\"64\" v-if=\"!offline\"></v-progress-circular>\n      <div class=\"text-center\" v-else>\n        <h1>无法连接到API</h1>\n        <p>请开启API后，刷新此页。</p>\n      </div>\n    </v-overlay>\n    <Footer/>\n  </v-app>\n</template>\n\n<script>\nimport StatusService from '@/services/StatusService'\nimport Footer from '@/components/Footer'\n\nexport default {\n  name: 'App',\n  data: () => {\n    return {\n      offline: false,\n      loading: true\n    }\n  },\n  components: {\n    Footer\n  },\n  methods: {\n    getStatus: async function () {\n      let online\n      await StatusService.getStatus().then((data) => {\n        online = true\n      }).catch(() => {\n        online = false\n      })\n      this.offline = !online\n      this.loading = false\n    }\n  },\n  created: function () {\n    this.getStatus()\n    this.$vuetify.theme.dark = window.matchMedia('(prefers-color-scheme: dark)').matches\n    if (window.matchMedia('(prefers-color-scheme: dark)').addEventListener) {\n      window.matchMedia('(prefers-color-scheme: dark)')\n        .addEventListener('change', event => {\n          this.$vuetify.theme.dark = event.matches\n        })\n    }\n  }\n}\n</script>\n"]}]}